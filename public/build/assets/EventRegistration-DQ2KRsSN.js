import{u as S,r as k,c as T,j as r,H as w}from"./app-BByfSfuC.js";import{F as E}from"./FrontLayout-C85N90XF.js";import{C as q,S as d,G as l,T as x,a as t,b as A}from"./Title-ZeNDVGLn.js";import{C as h}from"./Card-D-EKUExk.js";import{T as j}from"./ThemeIcon-BiHS01O6.js";import{C as F}from"./calendar-DcJcnZgA.js";import{D as N}from"./Divider-DfaJXAuO.js";import{G as a}from"./Grid-CjStMlwy.js";import{M as I}from"./map-pin-Cym1FHsQ.js";import{U as M}from"./users-CDhnMT-6.js";import{C as U}from"./clock-NtvrZsXo.js";import{B as G}from"./Badge-Aqzdn07U.js";import{A as O}from"./Alert-D9htil08.js";import{C as f}from"./circle-alert-DsNFdFtg.js";import{T as b}from"./TextInput-11NqqKSk.js";import{N as v}from"./NumberInput-D5OUNqUh.js";import{T as $}from"./Textarea-CGwpddZg.js";import{C as H}from"./check-DWn_i8sN.js";/* empty css            */import"./Burger-C6E3aGFj.js";import"./createLucideIcon-BT_P5zGE.js";import"./get-sorted-breakpoints-DFaYOGKe.js";import"./get-base-value-JqT_q0U7.js";import"./CloseButton-DeOFDxF2.js";import"./InputBase-3o6TqfvO.js";import"./clamp-DTmYCdls.js";function jr({event:e,registration:i=null,currentLocale:c="en"}){const{t:s}=S(),[B,n]=k.useState(!1),{data:u,setData:g,post:y,put:D,processing:_,errors:m,reset:L}=T({registrant_name:i?.registrant_name||"",registrant_email:i?.registrant_email||"",total_attendees:i?.total_attendees||1,notes:i?.notes||""}),z=o=>{o.preventDefault(),n(!0),i?D(route("event-registrations.update",i.id),{onSuccess:()=>{n(!1)},onError:()=>{n(!1)}}):y(route("event-registrations.store",e.id),{onSuccess:()=>{n(!1)},onError:()=>{n(!1)}})},R=o=>new Date(o).toLocaleDateString(c==="en"?"en-US":c==="fr"?"fr-FR":"sr-RS"),C=o=>new Date(`2000-01-01T${o}`).toLocaleTimeString(c==="en"?"en-US":c==="fr"?"fr-FR":"sr-RS",{hour:"2-digit",minute:"2-digit"}),p=e.requiresRegistration?e.isRegistrationOpen?e.isFull?{status:"full",label:s("eventFull"),color:"orange"}:{status:"open",label:s("registrationOpen"),color:"green"}:{status:"closed",label:s("registrationClosed"),color:"red"}:null;return r.jsxs(E,{children:[r.jsx(w,{title:`${s("registerForEvent")} - ${e.title}`}),r.jsx(q,{size:"lg",py:"xl",children:r.jsxs(d,{spacing:"xl",children:[r.jsx(h,{withBorder:!0,p:"lg",style:{backgroundColor:"#FFF8DC",border:"2px solid #D2B48C"},children:r.jsxs(d,{spacing:"md",children:[r.jsxs(l,{children:[r.jsx(j,{size:"lg",variant:"light",color:"gold",children:r.jsx(F,{size:20})}),r.jsxs("div",{children:[r.jsx(x,{order:2,style:{color:"#8B4513"},children:e.title}),r.jsx(t,{size:"sm",style:{color:"#8B4513"},children:e.description})]})]}),r.jsx(N,{style:{borderColor:"#D2B48C"}}),r.jsxs(a,{children:[r.jsx(a.Col,{span:6,children:r.jsxs(l,{spacing:"sm",children:[r.jsx(F,{size:16,style:{color:"#8B4513"}}),r.jsxs("div",{children:[r.jsx(t,{size:"sm",fw:500,style:{color:"#8B4513"},children:R(e.event_date)}),r.jsxs(t,{size:"xs",style:{color:"#8B4513"},children:[C(e.start_time)," - ",C(e.end_time)]})]})]})}),r.jsx(a.Col,{span:6,children:r.jsxs(l,{spacing:"sm",children:[r.jsx(I,{size:16,style:{color:"#8B4513"}}),r.jsx("div",{children:r.jsx(t,{size:"sm",fw:500,style:{color:"#8B4513"},children:e.location})})]})})]}),e.requiresRegistration&&r.jsxs(a,{children:[r.jsx(a.Col,{span:6,children:r.jsxs(l,{spacing:"sm",children:[r.jsx(M,{size:16,style:{color:"#8B4513"}}),r.jsxs("div",{children:[r.jsxs(t,{size:"sm",fw:500,style:{color:"#8B4513"},children:[s("eventCapacity"),": ",e.registration_capacity||"Unlimited"]}),r.jsxs(t,{size:"xs",style:{color:"#8B4513"},children:[s("availableSpots"),": ",e.getAvailableSpots()]})]})]})}),r.jsx(a.Col,{span:6,children:r.jsxs(l,{spacing:"sm",children:[r.jsx(U,{size:16,style:{color:"#8B4513"}}),r.jsxs("div",{children:[r.jsxs(t,{size:"sm",fw:500,style:{color:"#8B4513"},children:[s("registrationDeadline"),":"]}),r.jsx(t,{size:"xs",style:{color:"#8B4513"},children:e.getFormattedRegistrationDeadline()})]})]})})]}),p&&r.jsx(l,{children:r.jsx(G,{color:p.color,size:"lg",children:p.label})})]})}),e.requiresRegistration&&e.isRegistrationOpen&&!e.isFull&&r.jsx(h,{withBorder:!0,p:"lg",style:{backgroundColor:"#FFF8DC",border:"2px solid #D2B48C"},children:r.jsxs(d,{spacing:"md",children:[r.jsx(x,{order:3,style:{color:"#8B4513"},children:s(i?"editRegistration":"registrationForm")}),e.registration_instructions&&r.jsx(O,{icon:r.jsx(f,{size:16}),title:s("registrationInstructions"),style:{backgroundColor:"#F5F5DC",border:"1px solid #D2B48C"},children:r.jsx(t,{size:"sm",style:{color:"#8B4513"},children:e.registration_instructions})}),r.jsx("form",{onSubmit:z,children:r.jsxs(d,{spacing:"md",children:[r.jsx(b,{label:s("registrantName"),placeholder:"Enter your full name",value:u.registrant_name,onChange:o=>g("registrant_name",o.target.value),error:m.registrant_name,required:!0,styles:{input:{backgroundColor:"#FFF8DC",border:"2px solid #D2B48C",color:"#8B4513","&:focus":{borderColor:"#8B4513",backgroundColor:"#FFF8DC"}},label:{color:"#8B4513"}}}),r.jsx(b,{label:s("registrantEmail"),placeholder:"Enter your email address",type:"email",value:u.registrant_email,onChange:o=>g("registrant_email",o.target.value),error:m.registrant_email,required:!0,styles:{input:{backgroundColor:"#FFF8DC",border:"2px solid #D2B48C",color:"#8B4513","&:focus":{borderColor:"#8B4513",backgroundColor:"#FFF8DC"}},label:{color:"#8B4513"}}}),r.jsx(v,{label:s("totalAttendees"),placeholder:"Number of people attending",min:1,max:e.registration_capacity?Math.min(10,e.getAvailableSpots()+(i?.total_attendees||0)):10,value:u.total_attendees,onChange:o=>g("total_attendees",o),error:m.total_attendees,required:!0,styles:{input:{backgroundColor:"#FFF8DC",border:"2px solid #D2B48C",color:"#8B4513","&:focus":{borderColor:"#8B4513",backgroundColor:"#FFF8DC"}},label:{color:"#8B4513"}}}),r.jsx($,{label:s("registrationNotes"),placeholder:s("registrationNotesPlaceholder"),value:u.notes,onChange:o=>g("notes",o.target.value),error:m.notes,minRows:3,styles:{input:{backgroundColor:"#FFF8DC",border:"2px solid #D2B48C",color:"#8B4513","&:focus":{borderColor:"#8B4513",backgroundColor:"#FFF8DC"}},label:{color:"#8B4513"}}}),r.jsx(l,{position:"right",children:r.jsx(A,{type:"submit",loading:_||B,leftIcon:r.jsx(H,{size:16}),style:{backgroundColor:"#8B4513","&:hover":{backgroundColor:"#A0522D"}},children:s(i?"updateRegistration":"submitRegistration")})})]})})]})}),e.requiresRegistration&&(!e.isRegistrationOpen||e.isFull)&&r.jsx(h,{withBorder:!0,p:"lg",style:{backgroundColor:"#FFF8DC",border:"2px solid #D2B48C"},children:r.jsxs(d,{spacing:"md",align:"center",children:[r.jsx(j,{size:"xl",variant:"light",color:"red",children:r.jsx(f,{size:24})}),r.jsx(x,{order:3,style:{color:"#8B4513"},children:e.isFull?s("eventFull"):s("registrationClosed")}),r.jsx(t,{style:{color:"#8B4513"},align:"center",children:e.isFull?s("eventFullMessage"):s("registrationClosedMessage")})]})})]})})]})}export{jr as default};
