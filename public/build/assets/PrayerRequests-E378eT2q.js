import{r as m,j as e,u as Y,H as ee,a as z}from"./app-BByfSfuC.js";import{F as re}from"./FrontLayout-C85N90XF.js";import{f as se,u as O,d as V,e as q,B as _,t as te,p as ae,h as oe,g as le,C as ie,T as P,a as p,P as T,G as n,b as j,S as H,A as I}from"./Title-ZeNDVGLn.js";import{T as N}from"./ThemeIcon-BiHS01O6.js";import{H as h}from"./heart-C_qBthq1.js";import{S as U}from"./Select-D5leAiB_.js";import{F as Z}from"./filter-CNsp3DuP.js";import{C as L}from"./clock-NtvrZsXo.js";import{P as ne}from"./plus-XiyCvixh.js";import{G as A}from"./Grid-CjStMlwy.js";import{C as $}from"./Card-D-EKUExk.js";import{B}from"./Badge-Aqzdn07U.js";import{C as ce}from"./circle-alert-DsNFdFtg.js";import{C as de}from"./circle-check-big-DN5gJSDB.js";import{C as pe}from"./calendar-DcJcnZgA.js";import{D as ue}from"./Divider-DfaJXAuO.js";import{E as ge}from"./eye-BOqE52_8.js";import{A as me}from"./Alert-D9htil08.js";import{M as xe}from"./Modal-CwxUH1_I.js";import{U as he}from"./users-CDhnMT-6.js";/* empty css            */import"./Burger-C6E3aGFj.js";import"./createLucideIcon-BT_P5zGE.js";import"./InputBase-3o6TqfvO.js";import"./CloseButton-DeOFDxF2.js";import"./CheckIcon-B0KHLKib.js";import"./ScrollArea-BFZt3DNW.js";import"./get-sorted-breakpoints-DFaYOGKe.js";import"./get-base-value-JqT_q0U7.js";import"./use-window-event-DxuP8sAt.js";const J=m.createContext(null),ye=J.Provider;function fe(){return{withinGroup:!!m.useContext(J)}}var w={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const je=q((t,{spacing:a})=>({group:{"--ag-spacing":te(a)}})),G=se((t,a)=>{const o=O("AvatarGroup",null,t),{classNames:r,className:c,style:u,styles:d,unstyled:g,vars:x,spacing:i,attributes:l,...y}=o,C=V({name:"AvatarGroup",classes:w,props:o,className:c,style:u,classNames:r,styles:d,unstyled:g,attributes:l,vars:x,varsResolver:je,rootSelector:"group"});return e.jsx(ye,{value:!0,children:e.jsx(_,{ref:a,...C("group"),...y})})});G.classes=w;G.displayName="@mantine/core/AvatarGroup";function Ce(t){return e.jsx("svg",{...t,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function be(t){let a=0;for(let o=0;o<t.length;o+=1){const r=t.charCodeAt(o);a=(a<<5)-a+r,a|=0}return a}const ve=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function Se(t,a=ve){const o=be(t),r=Math.abs(o)%a.length;return a[r]}function ze(t,a=2){const o=t.split(" ");return o.length===1?t.slice(0,a).toUpperCase():o.map(r=>r[0]).slice(0,a).join("").toUpperCase()}const Be=q((t,{size:a,radius:o,variant:r,gradient:c,color:u,autoContrast:d,name:g,allowedInitialsColors:x})=>{const i=u==="initials"&&typeof g=="string"?Se(g,x):u,l=t.variantColorResolver({color:i||"gray",theme:t,gradient:c,variant:r||"light",autoContrast:d});return{root:{"--avatar-size":le(a,"avatar-size"),"--avatar-radius":o===void 0?void 0:oe(o),"--avatar-bg":i||r?l.background:void 0,"--avatar-color":i||r?l.color:void 0,"--avatar-bd":i||r?l.border:void 0}}}),F=ae((t,a)=>{const o=O("Avatar",null,t),{classNames:r,className:c,style:u,styles:d,unstyled:g,vars:x,src:i,alt:l,radius:y,color:C,gradient:D,imageProps:b,children:R,autoContrast:M,mod:v,name:S,allowedInitialsColors:s,attributes:f,...K}=o,Q=fe(),[W,E]=m.useState(!i),k=V({name:"Avatar",props:o,classes:w,className:c,style:u,classNames:r,styles:d,unstyled:g,attributes:f,vars:x,varsResolver:Be});return m.useEffect(()=>E(!i),[i]),e.jsx(_,{...k("root"),mod:[{"within-group":Q.withinGroup},v],ref:a,...K,children:W||!i?e.jsx("span",{...k("placeholder"),title:l,children:R||typeof S=="string"&&ze(S)||e.jsx(Ce,{})}):e.jsx("img",{...b,...k("image"),src:i,alt:l,onError:X=>{E(!0),b?.onError?.(X)}})})});F.classes=w;F.displayName="@mantine/core/Avatar";F.Group=G;function sr({prayerRequests:t,currentCategory:a,currentStatus:o}){const{t:r}=Y(),[c,u]=m.useState(a||"all"),[d,g]=m.useState(o||"active"),[x,i]=m.useState(!1),[l,y]=m.useState(null),C=[{value:"all",label:r("allCategories")},{value:"health",label:r("healthCategory")},{value:"family",label:r("familyCategory")},{value:"spiritual",label:r("spiritualCategory")},{value:"work",label:r("workCategory")},{value:"travel",label:r("travelCategory")},{value:"other",label:r("otherCategory")}],D=[{value:"active",label:r("activeStatus")},{value:"answered",label:r("answeredStatus")}],b=()=>{const s=new URLSearchParams;c!=="all"&&s.append("category",c),d!=="active"&&s.append("status",d),z.get("/prayer-requests",Object.fromEntries(s),{preserveState:!0,replace:!0})},R=s=>{y(s),i(!0)},M=()=>{l&&z.post(`/prayer-requests/${l.id}/pray`,{},{onSuccess:()=>{i(!1),y(null),z.reload()}})},v=s=>({health:"red",family:"blue",spiritual:"violet",work:"orange",travel:"green",other:"gray"})[s]||"gray",S=s=>({active:"blue",answered:"green",archived:"gray"})[s]||"gray";return e.jsxs(re,{children:[e.jsx(ee,{title:r("prayerRequests")}),e.jsxs(ie,{size:"lg",py:"xl",children:[e.jsxs(_,{ta:"center",mb:"xl",children:[e.jsx(N,{size:60,color:"#8B4513",variant:"light",style:{borderRadius:"50%",boxShadow:"0 4px 20px rgba(139, 69, 19, 0.2)",margin:"0 auto 16px"},children:e.jsx(h,{size:30})}),e.jsx(P,{order:1,size:"h1",c:"#8B4513",mb:"md",style:{fontFamily:"serif"},children:r("prayerRequests")}),e.jsx(p,{size:"lg",c:"#654321",maw:600,mx:"auto",style:{fontFamily:"serif",lineHeight:1.6},children:r("prayerRequestsDescription")})]}),e.jsx(T,{p:"lg",mb:"xl",style:{background:"linear-gradient(135deg, rgba(139, 69, 19, 0.08) 0%, rgba(255, 215, 0, 0.05) 100%)",border:"2px solid rgba(139, 69, 19, 0.2)",borderRadius:"12px"},children:e.jsxs(n,{justify:"space-between",align:"center",children:[e.jsxs(n,{children:[e.jsx(U,{label:r("filterByCategory"),value:c,onChange:u,data:C,leftSection:e.jsx(Z,{size:16}),styles:{label:{color:"#8B4513",marginBottom:"8px"},input:{backgroundColor:"#FFF8DC",border:"2px solid #D2B48C",color:"#8B4513","&:focus":{borderColor:"#8B4513"}}}}),e.jsx(U,{label:r("filterByStatus"),value:d,onChange:g,data:D,leftSection:e.jsx(L,{size:16}),styles:{label:{color:"#8B4513",marginBottom:"8px"},input:{backgroundColor:"#FFF8DC",border:"2px solid #D2B48C",color:"#8B4513","&:focus":{borderColor:"#8B4513"}}}}),e.jsx(j,{onClick:b,leftSection:e.jsx(Z,{size:16}),style:{backgroundColor:"#8B4513",border:"none",marginTop:"24px"},children:r("applyFilters")})]}),e.jsx(j,{component:"a",href:"/prayer-requests/create",leftSection:e.jsx(ne,{size:16}),size:"md",style:{backgroundColor:"#8B4513",border:"none"},children:r("submitPrayerRequest")})]})}),e.jsx(A,{children:t.data.length>0?t.data.map(s=>e.jsx(A.Col,{span:{base:12,md:6,lg:4},children:e.jsxs($,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,style:{background:"linear-gradient(135deg, rgba(235, 225, 195, 0.9) 0%, rgba(255, 248, 220, 0.9) 100%)",border:"2px solid rgba(139, 69, 19, 0.2)",height:"100%",display:"flex",flexDirection:"column"},children:[e.jsx($.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:e.jsxs(n,{justify:"space-between",align:"center",children:[e.jsxs(n,{children:[e.jsx(B,{color:v(s.category),variant:"light",leftSection:e.jsx(h,{size:12}),children:s.category_label}),s.is_urgent&&e.jsx(B,{color:"red",variant:"filled",leftSection:e.jsx(ce,{size:12}),children:r("urgent")})]}),e.jsx(B,{color:S(s.status),variant:"light",leftSection:s.status==="answered"?e.jsx(de,{size:12}):e.jsx(L,{size:12}),children:s.status_label})]})}),e.jsxs(H,{gap:"sm",style:{flex:1},children:[e.jsx(P,{order:3,size:"h4",c:"#8B4513",style:{fontFamily:"serif"},children:s.title}),e.jsx(p,{size:"sm",c:"#654321",lineClamp:3,style:{fontFamily:"serif",lineHeight:1.5},children:s.request}),e.jsxs(n,{justify:"space-between",align:"center",mt:"auto",children:[e.jsxs(n,{gap:"xs",children:[e.jsx(F,{size:"sm",color:"#8B4513",radius:"xl",children:s.display_name.charAt(0).toUpperCase()}),e.jsx(p,{size:"xs",c:"#654321",fw:500,children:s.display_name})]}),e.jsxs(p,{size:"xs",c:"#654321",children:[e.jsx(pe,{size:12,style:{marginRight:"4px",display:"inline"}}),s.created_at]})]}),e.jsx(ue,{color:"rgba(139, 69, 19, 0.2)"}),e.jsxs(n,{justify:"space-between",align:"center",children:[e.jsx(n,{children:e.jsxs(n,{gap:"xs",children:[e.jsx(N,{size:"sm",color:"#8B4513",variant:"light",children:e.jsx(h,{size:14})}),e.jsxs(p,{size:"sm",c:"#654321",children:[s.prayer_count," ",r("peoplePrayed")]})]})}),e.jsxs(n,{gap:"xs",children:[e.jsx(I,{variant:"light",color:"#8B4513",size:"sm",onClick:()=>R(s),title:r("prayForThis"),children:e.jsx(h,{size:16})}),e.jsx(I,{variant:"light",color:"#8B4513",size:"sm",component:"a",href:`/prayer-requests/${s.id}`,title:r("viewDetails"),children:e.jsx(ge,{size:16})})]})]})]})]})},s.id)):e.jsx(A.Col,{span:12,children:e.jsx(me,{icon:e.jsx(h,{size:16}),title:r("noPrayerRequests"),color:"#8B4513",variant:"light",style:{background:"rgba(139, 69, 19, 0.1)",border:"1px solid rgba(139, 69, 19, 0.3)"},children:e.jsx(p,{c:"#654321",children:r("noPrayerRequestsDescription")})})})}),t.last_page>1&&e.jsx(n,{justify:"center",mt:"xl",children:t.links.map((s,f)=>e.jsx(j,{variant:s.active?"filled":"light",color:"#8B4513",size:"sm",disabled:!s.url,onClick:()=>s.url&&z.get(s.url),children:e.jsx("span",{dangerouslySetInnerHTML:{__html:s.label}})},f))}),e.jsx(xe,{opened:x,onClose:()=>i(!1),title:r("prayForRequest"),centered:!0,size:"md",styles:{header:{backgroundColor:"#FFF8DC",borderBottom:"2px solid #D2B48C"},content:{backgroundColor:"#FFF8DC"}},children:l&&e.jsxs(H,{gap:"md",children:[e.jsxs(T,{p:"md",style:{background:"linear-gradient(135deg, rgba(139, 69, 19, 0.1) 0%, rgba(255, 215, 0, 0.05) 100%)",border:"1px solid rgba(139, 69, 19, 0.2)",borderRadius:"8px"},children:[e.jsx(P,{order:4,c:"#8B4513",style:{fontFamily:"serif"},children:l.title}),e.jsx(p,{size:"sm",c:"#654321",mt:"xs",style:{fontFamily:"serif"},children:l.request}),e.jsxs(n,{gap:"xs",mt:"md",children:[e.jsx(B,{color:v(l.category),variant:"light",children:l.category_label}),e.jsxs(p,{size:"xs",c:"#654321",children:[e.jsx(he,{size:12,style:{marginRight:"4px",display:"inline"}}),l.prayer_count," ",r("peoplePrayed")]})]})]}),e.jsx(p,{size:"sm",c:"#654321",ta:"center",style:{fontFamily:"serif"},children:r("prayerConfirmationMessage")}),e.jsxs(n,{justify:"center",gap:"md",children:[e.jsx(j,{variant:"light",onClick:()=>i(!1),color:"#8B4513",children:r("cancel")}),e.jsx(j,{onClick:M,leftSection:e.jsx(h,{size:16}),style:{backgroundColor:"#8B4513",border:"none"},children:r("prayNow")})]})]})})]})]})}export{sr as default};
