import{r as c,R as y,j as P}from"./app-BByfSfuC.js";import{f as k,u as O}from"./Title-ZeNDVGLn.js";import{I as W}from"./InputBase-3o6TqfvO.js";var B={};function N(){return typeof process<"u"&&B?"production":"development"}function R(){return R=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)({}).hasOwnProperty.call(r,e)&&(n[e]=r[e])}return n},R.apply(null,arguments)}function M(n,t){if(n==null)return{};var r={};for(var e in n)if({}.hasOwnProperty.call(n,e)){if(t.indexOf(e)!==-1)continue;r[e]=n[e]}return r}var $=c.useLayoutEffect,G=function(t){var r=y.useRef(t);return $(function(){r.current=t}),r},E=function(t,r){if(typeof t=="function"){t(r);return}t.current=r},Y=function(t,r){var e=y.useRef();return y.useCallback(function(i){t.current=i,e.current&&E(e.current,null),e.current=r,r&&E(r,i)},[r])},T={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},q=function(t){Object.keys(T).forEach(function(r){t.style.setProperty(r,T[r],"important")})},C=q,o=null,F=function(t,r){var e=t.scrollHeight;return r.sizingStyle.boxSizing==="border-box"?e+r.borderSize:e-r.paddingSize};function U(n,t,r,e){r===void 0&&(r=1),e===void 0&&(e=1/0),o||(o=document.createElement("textarea"),o.setAttribute("tabindex","-1"),o.setAttribute("aria-hidden","true"),C(o)),o.parentNode===null&&document.body.appendChild(o);var i=n.paddingSize,s=n.borderSize,a=n.sizingStyle,h=a.boxSizing;Object.keys(a).forEach(function(l){var m=l;o.style[m]=a[m]}),C(o),o.value=t;var u=F(o,n);o.value=t,u=F(o,n),o.value="x";var f=o.scrollHeight-i,g=f*r;h==="border-box"&&(g=g+i+s),u=Math.max(g,u);var v=f*e;return h==="border-box"&&(v=v+i+s),u=Math.min(v,u),[u,f]}var _=function(){},X=function(t,r){return t.reduce(function(e,i){return e[i]=r[i],e},{})},Z=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],D=!!document.documentElement.currentStyle,J=function(t){var r=window.getComputedStyle(t);if(r===null)return null;var e=X(Z,r),i=e.boxSizing;if(i==="")return null;D&&i==="border-box"&&(e.width=parseFloat(e.width)+parseFloat(e.borderRightWidth)+parseFloat(e.borderLeftWidth)+parseFloat(e.paddingRight)+parseFloat(e.paddingLeft)+"px");var s=parseFloat(e.paddingBottom)+parseFloat(e.paddingTop),a=parseFloat(e.borderBottomWidth)+parseFloat(e.borderTopWidth);return{sizingStyle:e,paddingSize:s,borderSize:a}},K=J;function L(n,t,r){var e=G(r);c.useLayoutEffect(function(){var i=function(a){return e.current(a)};if(n)return n.addEventListener(t,i),function(){return n.removeEventListener(t,i)}},[])}var Q=function(t,r){L(document.body,"reset",function(e){t.current.form===e.target&&r(e)})},V=function(t){L(window,"resize",t)},ee=function(t){L(document.fonts,"loadingdone",t)},te=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],re=function(t,r){var e=t.cacheMeasurements,i=t.maxRows,s=t.minRows,a=t.onChange,h=a===void 0?_:a,u=t.onHeightChange,f=u===void 0?_:u,g=M(t,te),v=g.value!==void 0,l=c.useRef(null),m=Y(l,r),w=c.useRef(0),b=c.useRef(),p=function(){var d=l.current,z=e&&b.current?b.current:K(d);if(z){b.current=z;var H=U(z,d.value||d.placeholder||"x",s,i),x=H[0],I=H[1];w.current!==x&&(w.current=x,d.style.setProperty("height",x+"px","important"),f(x,{rowHeight:I}))}},A=function(d){v||p(),h(d)};return c.useLayoutEffect(p),Q(l,function(){if(!v){var S=l.current.value;requestAnimationFrame(function(){var d=l.current;d&&S!==d.value&&p()})}}),V(p),ee(p),c.createElement("textarea",R({},g,{onChange:A,ref:m}))},ne=c.forwardRef(re);const ie={size:"sm"},j=k((n,t)=>{const{autosize:r,maxRows:e,minRows:i,__staticSelector:s,resize:a,...h}=O("Textarea",ie,n),u=r&&N()!=="test",f=u?{maxRows:e,minRows:i}:{};return P.jsx(W,{component:u?ne:"textarea",ref:t,...h,__staticSelector:s||"Textarea",multiline:!0,"data-no-overflow":r&&e===void 0||void 0,__vars:{"--input-resize":a},...f})});j.classes=W.classes;j.displayName="@mantine/core/Textarea";export{j as T};
