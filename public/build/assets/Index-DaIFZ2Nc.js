import{r as R,j as e,a as u,L as T}from"./app-BByfSfuC.js";import{f as B}from"./dateUtils-trGW1CLt.js";import{L as U,a as D}from"./Layout-Dwbte8SX.js";import{C as V,B as t,G as o,T as C,a as s,b as c,S as p,P as w,M as x}from"./Title-ZeNDVGLn.js";import{G as a}from"./Grid-CjStMlwy.js";import{C as d}from"./Card-D-EKUExk.js";import{C as M}from"./clock-NtvrZsXo.js";import{C as _}from"./check-DWn_i8sN.js";import{X as v}from"./x-BywK-egi.js";import{S as I}from"./square-pen-yEjnqL2U.js";import{F as G}from"./filter-CNsp3DuP.js";import{S as P}from"./Select-D5leAiB_.js";import{F as z}from"./file-text-BMFZVyOb.js";import{T as W}from"./TextInput-11NqqKSk.js";import{S as $}from"./search-phtwuYDS.js";import{B as j}from"./Badge-Aqzdn07U.js";import{U as q}from"./user-D_i7W3jX.js";import{C as S}from"./calendar-DcJcnZgA.js";import{B as E}from"./bell-pBXD-JBQ.js";import{E as O}from"./eye-BOqE52_8.js";import{c as Q}from"./createLucideIcon-BT_P5zGE.js";import{P as X}from"./Pagination-BdwDV3b_.js";import{A as H}from"./arrow-right-BEiHjRyo.js";import{M as J}from"./Modal-CwxUH1_I.js";/* empty css            */import"./use-window-event-DxuP8sAt.js";import"./get-sorted-breakpoints-DFaYOGKe.js";import"./Burger-C6E3aGFj.js";import"./Divider-DfaJXAuO.js";import"./users-CDhnMT-6.js";import"./book-open-C5UyFhRw.js";import"./heart-C_qBthq1.js";import"./CloseButton-DeOFDxF2.js";import"./circle-alert-DsNFdFtg.js";import"./get-base-value-JqT_q0U7.js";import"./InputBase-3o6TqfvO.js";import"./CheckIcon-B0KHLKib.js";import"./ScrollArea-BFZt3DNW.js";import"./get-auto-contrast-value-Da6zqqWm.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Y=Q("EllipsisVertical",K),Ne=({moderations:l,filters:m,stats:b})=>{const[g,L]=R.useState(null),[i,h]=R.useState({opened:!1,action:null}),k=r=>{switch(r){case"pending":return"#FFA500";case"approved":return"#4CAF50";case"rejected":return"#F44336";case"needs_revision":return"#FF9800";default:return"#666"}},N=r=>{switch(r){case"App\\Models\\Post":return e.jsx(z,{size:20,color:"#228BE6"});case"App\\Models\\Event":return e.jsx(S,{size:20,color:"#40C057"});case"App\\Models\\Bulletin":return e.jsx(E,{size:20,color:"#FD7E14"});default:return e.jsx(z,{size:20,color:"#666"})}},A=r=>{switch(r){case"App\\Models\\Post":return"Blog Post";case"App\\Models\\Event":return"Event";case"App\\Models\\Bulletin":return"Bulletin";default:return"Content"}},F=(r,n)=>{const y=new URLSearchParams(window.location.search);n?y.set(r,n):y.delete(r),u.visit(`/moderation?${y.toString()}`,{preserveScroll:!0,preserveState:!0})},f=(r,n)=>{L(r),h({opened:!0,action:n})};return e.jsx(U,{children:e.jsxs(V,{size:"xl",py:"md",children:[e.jsxs(t,{mb:"xl",children:[e.jsx(o,{justify:"space-between",mb:"md",children:e.jsx(t,{children:e.jsxs(o,{gap:"sm",mb:"xs",children:[e.jsx(t,{style:{background:"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)",borderRadius:"12px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 20px rgba(255, 215, 0, 0.3)"},children:e.jsx(D,{size:24,color:"#1a1f2e"})}),e.jsxs(t,{children:[e.jsx(C,{order:1,c:"#FFD700",mb:"xs",style:{fontFamily:"serif"},children:"Content Moderation"}),e.jsx(s,{c:"rgba(255, 255, 255, 0.7)",size:"sm",children:"Review and approve content submissions for your Orthodox community"})]})]})})}),e.jsxs(a,{mb:"xl",children:[e.jsx(a.Col,{span:{base:6,sm:3},children:e.jsx(d,{withBorder:!0,p:"md",className:"stat-card",style:{borderLeft:"4px solid #FFA500",background:"linear-gradient(135deg, rgba(26, 31, 46, 0.8) 0%, rgba(15, 20, 25, 0.9) 100%)",border:"1px solid rgba(255, 165, 0, 0.2)",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},children:e.jsxs(o,{justify:"space-between",children:[e.jsxs(t,{children:[e.jsx(s,{size:"xs",tt:"uppercase",fw:700,c:"rgba(255, 255, 255, 0.6)",children:"Pending Review"}),e.jsx(s,{size:"xl",fw:700,c:"#FFA500",children:b.pending})]}),e.jsx(t,{style:{backgroundColor:"rgba(255, 165, 0, 0.2)",borderRadius:"50%",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(M,{size:24,color:"#FFA500"})})]})})}),e.jsx(a.Col,{span:{base:6,sm:3},children:e.jsx(d,{withBorder:!0,p:"md",className:"stat-card",style:{borderLeft:"4px solid #4CAF50",background:"linear-gradient(135deg, rgba(26, 31, 46, 0.8) 0%, rgba(15, 20, 25, 0.9) 100%)",border:"1px solid rgba(76, 175, 80, 0.2)",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},children:e.jsxs(o,{justify:"space-between",children:[e.jsxs(t,{children:[e.jsx(s,{size:"xs",tt:"uppercase",fw:700,c:"rgba(255, 255, 255, 0.6)",children:"Approved"}),e.jsx(s,{size:"xl",fw:700,c:"#4CAF50",children:b.approved})]}),e.jsx(t,{style:{backgroundColor:"rgba(76, 175, 80, 0.2)",borderRadius:"50%",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(_,{size:24,color:"#4CAF50"})})]})})}),e.jsx(a.Col,{span:{base:6,sm:3},children:e.jsx(d,{withBorder:!0,p:"md",className:"stat-card",style:{borderLeft:"4px solid #F44336",background:"linear-gradient(135deg, rgba(26, 31, 46, 0.8) 0%, rgba(15, 20, 25, 0.9) 100%)",border:"1px solid rgba(244, 67, 54, 0.2)",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},children:e.jsxs(o,{justify:"space-between",children:[e.jsxs(t,{children:[e.jsx(s,{size:"xs",tt:"uppercase",fw:700,c:"rgba(255, 255, 255, 0.6)",children:"Rejected"}),e.jsx(s,{size:"xl",fw:700,c:"#F44336",children:b.rejected})]}),e.jsx(t,{style:{backgroundColor:"rgba(244, 67, 54, 0.2)",borderRadius:"50%",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(v,{size:24,color:"#F44336"})})]})})}),e.jsx(a.Col,{span:{base:6,sm:3},children:e.jsx(d,{withBorder:!0,p:"md",className:"stat-card",style:{borderLeft:"4px solid #FF9800",background:"linear-gradient(135deg, rgba(26, 31, 46, 0.8) 0%, rgba(15, 20, 25, 0.9) 100%)",border:"1px solid rgba(255, 152, 0, 0.2)",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},children:e.jsxs(o,{justify:"space-between",children:[e.jsxs(t,{children:[e.jsx(s,{size:"xs",tt:"uppercase",fw:700,c:"rgba(255, 255, 255, 0.6)",children:"Needs Revision"}),e.jsx(s,{size:"xl",fw:700,c:"#FF9800",children:b.needs_revision})]}),e.jsx(t,{style:{backgroundColor:"rgba(255, 152, 0, 0.2)",borderRadius:"50%",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(I,{size:24,color:"#FF9800"})})]})})})]})]}),e.jsxs(d,{withBorder:!0,p:"lg",mb:"lg",className:"filter-card",style:{background:"linear-gradient(135deg, rgba(26, 31, 46, 0.8) 0%, rgba(15, 20, 25, 0.9) 100%)",border:"1px solid rgba(255, 215, 0, 0.2)",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},children:[e.jsxs(o,{mb:"md",children:[e.jsx(G,{size:20,color:"#FFD700"}),e.jsx(s,{fw:600,size:"sm",c:"#FFD700",children:"Filter & Search"})]}),e.jsxs(a,{children:[e.jsx(a.Col,{span:{base:12,sm:6,md:3},children:e.jsx(P,{label:"Status",value:m.status,onChange:r=>F("status",r),data:[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending Review"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"},{value:"needs_revision",label:"Needs Revision"}],placeholder:"Filter by status",leftSection:e.jsx(M,{size:16}),styles:{label:{color:"#FFD700",fontWeight:600},input:{backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",color:"#FFFFFF","&:focus":{borderColor:"#FFD700",boxShadow:"0 0 0 1px #FFD700"}},dropdown:{backgroundColor:"#1a1f2e",border:"1px solid rgba(255, 215, 0, 0.2)"},option:{backgroundColor:"transparent",color:"#FFFFFF","&:hover":{backgroundColor:"rgba(255, 215, 0, 0.1)"},"&[data-selected]":{backgroundColor:"rgba(255, 215, 0, 0.2)",color:"#FFD700"}}}})}),e.jsx(a.Col,{span:{base:12,sm:6,md:3},children:e.jsx(P,{label:"Content Type",value:m.type,onChange:r=>F("type",r),data:[{value:"all",label:"All Types"},{value:"App\\Models\\Post",label:"Blog Posts"},{value:"App\\Models\\Event",label:"Events"},{value:"App\\Models\\Bulletin",label:"Bulletins"}],placeholder:"Filter by type",leftSection:e.jsx(z,{size:16}),styles:{label:{color:"#FFD700",fontWeight:600},input:{backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",color:"#FFFFFF","&:focus":{borderColor:"#FFD700",boxShadow:"0 0 0 1px #FFD700"}},dropdown:{backgroundColor:"#1a1f2e",border:"1px solid rgba(255, 215, 0, 0.2)"},option:{backgroundColor:"transparent",color:"#FFFFFF","&:hover":{backgroundColor:"rgba(255, 215, 0, 0.1)"},"&[data-selected]":{backgroundColor:"rgba(255, 215, 0, 0.2)",color:"#FFD700"}}}})}),e.jsx(a.Col,{span:{base:12,sm:6,md:4},children:e.jsx(W,{label:"Search Content",placeholder:"Search by title, author, or content...",value:m.search,onChange:r=>F("search",r.target.value),leftSection:e.jsx($,{size:16}),styles:{label:{color:"#FFD700",fontWeight:600},input:{backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 215, 0, 0.3)",color:"#FFFFFF","&:focus":{borderColor:"#FFD700",boxShadow:"0 0 0 1px #FFD700"},"&::placeholder":{color:"rgba(255, 255, 255, 0.5)"}}}})}),e.jsx(a.Col,{span:{base:12,sm:6,md:2},children:e.jsx(c,{onClick:()=>u.visit("/moderation"),variant:"outline",fullWidth:!0,mt:"xl",leftSection:e.jsx(v,{size:16}),style:{borderColor:"rgba(255, 215, 0, 0.3)",color:"#FFD700",backgroundColor:"rgba(255, 215, 0, 0.1)","&:hover":{backgroundColor:"rgba(255, 215, 0, 0.2)",borderColor:"#FFD700"}},children:"Clear Filters"})})]})]}),l.data.length>0?e.jsxs(t,{children:[e.jsxs(o,{justify:"space-between",mb:"lg",children:[e.jsxs(C,{order:3,c:"#FFD700",style:{fontFamily:"serif"},children:["Content Queue (",l.data.length," items)"]}),e.jsx(o,{gap:"xs",children:e.jsxs(j,{variant:"light",color:"blue",style:{background:"rgba(33, 150, 243, 0.2)",color:"#2196F3",border:"1px solid rgba(33, 150, 243, 0.3)"},children:["Page ",l.current_page," of ",l.last_page]})})]}),e.jsx(p,{gap:"lg",children:l.data.map(r=>e.jsx(d,{withBorder:!0,p:"lg",className:"moderation-item-card",style:{background:"linear-gradient(135deg, rgba(26, 31, 46, 0.8) 0%, rgba(15, 20, 25, 0.9) 100%)",border:"1px solid rgba(255, 215, 0, 0.1)",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},children:e.jsxs(a,{children:[e.jsx(a.Col,{span:{base:12,md:8},children:e.jsxs(p,{gap:"sm",children:[e.jsx(o,{justify:"space-between",children:e.jsxs(o,{gap:"sm",children:[e.jsx(t,{style:{backgroundColor:k(r.status)+"20",borderRadius:"8px",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:N(r.moderatable_type)}),e.jsxs(t,{children:[e.jsxs(o,{gap:"xs",mb:"xs",children:[e.jsx(j,{color:k(r.status),variant:"filled",size:"sm",children:r.status.replace("_"," ").toUpperCase()}),e.jsx(j,{variant:"outline",size:"sm",children:A(r.moderatable_type)})]}),e.jsx(s,{fw:700,size:"lg",c:"#FFFFFF",lineClamp:2,children:r.moderatable?.title||"Untitled Content"})]})]})}),e.jsxs(o,{gap:"lg",c:"rgba(255, 255, 255, 0.7)",children:[e.jsxs(o,{gap:"xs",children:[e.jsx(q,{size:16}),e.jsxs(s,{size:"sm",children:["Submitted by ",e.jsx(s,{span:!0,fw:500,c:"#FFD700",children:r.submittedBy?.name||"Unknown User"})]})]}),e.jsxs(o,{gap:"xs",children:[e.jsx(S,{size:16}),e.jsx(s,{size:"sm",children:B(r.created_at)})]}),r.moderatable?.event_date&&e.jsxs(o,{gap:"xs",children:[e.jsx(S,{size:16}),e.jsxs(s,{size:"sm",children:["Event: ",B(r.moderatable.event_date)]})]})]}),r.notes&&e.jsxs(w,{p:"sm",withBorder:!0,style:{background:"rgba(33, 150, 243, 0.1)",border:"1px solid rgba(33, 150, 243, 0.3)",borderRadius:"8px"},children:[e.jsxs(o,{gap:"xs",mb:"xs",children:[e.jsx(E,{size:16,color:"#2196F3"}),e.jsx(s,{size:"sm",fw:600,c:"#2196F3",children:"Moderation Notes"})]}),e.jsx(s,{size:"sm",c:"rgba(255, 255, 255, 0.8)",children:r.notes})]})]})}),e.jsx(a.Col,{span:{base:12,md:4},children:e.jsxs(p,{gap:"sm",children:[e.jsxs(o,{justify:"flex-end",gap:"xs",children:[e.jsx(T,{href:`/moderation/${r.id}`,children:e.jsx(c,{variant:"light",size:"sm",leftSection:e.jsx(O,{size:16}),children:"View Details"})}),r.status==="pending"&&e.jsxs(x,{shadow:"md",width:200,position:"bottom-end",children:[e.jsx(x.Target,{children:e.jsx(c,{variant:"outline",size:"sm",leftSection:e.jsx(Y,{size:16}),children:"Actions"})}),e.jsxs(x.Dropdown,{children:[e.jsx(x.Item,{leftSection:e.jsx(_,{size:16}),onClick:()=>f(r,"approve"),color:"green",children:"Approve Content"}),e.jsx(x.Item,{leftSection:e.jsx(I,{size:16}),onClick:()=>f(r,"revision"),color:"orange",children:"Request Revision"}),e.jsx(x.Item,{leftSection:e.jsx(v,{size:16}),onClick:()=>f(r,"reject"),color:"red",children:"Reject Content"})]})]})]}),e.jsx(w,{p:"sm",withBorder:!0,style:{background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px"},children:e.jsxs(p,{gap:"xs",children:[e.jsx(s,{size:"xs",tt:"uppercase",fw:600,c:"rgba(255, 255, 255, 0.6)",children:"Submission Info"}),e.jsxs(o,{justify:"space-between",children:[e.jsx(s,{size:"sm",c:"rgba(255, 255, 255, 0.8)",children:"Version:"}),e.jsxs(j,{size:"sm",variant:"outline",style:{borderColor:"rgba(255, 215, 0, 0.3)",color:"#FFD700"},children:["v",r.version||1]})]}),r.moderated_by&&e.jsxs(o,{justify:"space-between",children:[e.jsx(s,{size:"sm",c:"rgba(255, 255, 255, 0.8)",children:"Moderated by:"}),e.jsx(s,{size:"sm",fw:500,c:"#FFD700",children:r.moderatedBy?.name})]})]})})]})})]})},r.id))}),l.last_page>1&&e.jsx(o,{justify:"center",mt:"xl",children:e.jsx(X,{total:l.last_page,value:l.current_page,onChange:r=>{const n=new URLSearchParams(window.location.search);n.set("page",r),u.visit(`/moderation?${n.toString()}`)}})})]}):e.jsx(d,{withBorder:!0,p:"xl",className:"empty-state",style:{background:"linear-gradient(135deg, rgba(26, 31, 46, 0.8) 0%, rgba(15, 20, 25, 0.9) 100%)",border:"1px solid rgba(255, 215, 0, 0.2)",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},children:e.jsxs(p,{align:"center",gap:"md",children:[e.jsx(t,{style:{background:"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)",borderRadius:"50%",padding:"24px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 20px rgba(255, 215, 0, 0.3)"},children:e.jsx(D,{size:48,color:"#1a1f2e"})}),e.jsxs(t,{ta:"center",children:[e.jsx(C,{order:3,c:"#FFD700",mb:"xs",style:{fontFamily:"serif"},children:"No content to moderate"}),e.jsx(s,{c:"rgba(255, 255, 255, 0.7)",size:"sm",children:"All caught up! There are no content items matching your current filters."})]}),e.jsx(c,{variant:"outline",leftSection:e.jsx(H,{size:16}),onClick:()=>u.visit("/moderation"),style:{borderColor:"rgba(255, 215, 0, 0.3)",color:"#FFD700"},children:"View All Content"})]})}),e.jsx(J,{opened:i.opened,onClose:()=>h({opened:!1,action:null}),title:`${i.action?.charAt(0).toUpperCase()+i.action?.slice(1)} Content`,size:"md",children:e.jsxs(p,{gap:"md",children:[e.jsxs(s,{children:["Are you sure you want to ",i.action," this content?"]}),g&&e.jsxs(w,{p:"md",bg:"gray.0",withBorder:!0,children:[e.jsx(s,{fw:600,mb:"xs",children:g.moderatable?.title}),e.jsxs(s,{size:"sm",c:"dimmed",children:[A(g.moderatable_type)," â€¢ Submitted by ",g.submittedBy?.name]})]}),e.jsxs(o,{justify:"flex-end",gap:"sm",children:[e.jsx(c,{variant:"outline",onClick:()=>h({opened:!1,action:null}),children:"Cancel"}),e.jsx(c,{color:i.action==="approve"?"green":i.action==="reject"?"red":"orange",onClick:()=>{h({opened:!1,action:null})},children:i.action?.charAt(0).toUpperCase()+i.action?.slice(1)})]})]})})]})})};export{Ne as default};
