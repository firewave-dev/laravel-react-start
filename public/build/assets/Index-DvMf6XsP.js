import{u as V,r as w,j as e,H as N,a as n}from"./app-BByfSfuC.js";import{L as H}from"./Layout-Dwbte8SX.js";import{C as I,G as l,B as c,T as E,a as i,b as d,P as h,A as g,S as z}from"./Title-ZeNDVGLn.js";import{P as U}from"./plus-XiyCvixh.js";import{T as j}from"./ThemeIcon-BiHS01O6.js";import{C as y}from"./clock-NtvrZsXo.js";import{C as v}from"./circle-check-big-DN5gJSDB.js";import{C as T}from"./circle-alert-DsNFdFtg.js";import{S}from"./Select-D5leAiB_.js";import{F as G}from"./filter-CNsp3DuP.js";import{T as t}from"./Table-Bms2NUSF.js";import{B as b}from"./Badge-Aqzdn07U.js";import{H as A}from"./heart-C_qBthq1.js";import{E as O}from"./eye-BOqE52_8.js";import{S as W}from"./square-pen-yEjnqL2U.js";import{T as J}from"./trash-2-CSkN2v0M.js";import{A as K}from"./Alert-D9htil08.js";import{P as Q}from"./Pagination-BdwDV3b_.js";import{M as P}from"./Modal-CwxUH1_I.js";import{T as X}from"./Textarea-CGwpddZg.js";import{c as Y}from"./createLucideIcon-BT_P5zGE.js";/* empty css            */import"./use-window-event-DxuP8sAt.js";import"./get-sorted-breakpoints-DFaYOGKe.js";import"./Burger-C6E3aGFj.js";import"./Divider-DfaJXAuO.js";import"./users-CDhnMT-6.js";import"./book-open-C5UyFhRw.js";import"./bell-pBXD-JBQ.js";import"./CloseButton-DeOFDxF2.js";import"./check-DWn_i8sN.js";import"./x-BywK-egi.js";import"./InputBase-3o6TqfvO.js";import"./CheckIcon-B0KHLKib.js";import"./ScrollArea-BFZt3DNW.js";import"./get-auto-contrast-value-Da6zqqWm.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],ee=Y("Archive",Z);function Me({prayerRequests:o,filters:C}){const{t:s}=V(),[x,u]=w.useState({opened:!1,request:null}),[p,m]=w.useState({opened:!1,request:null}),[k,f]=w.useState(""),_=r=>{u({opened:!0,request:r})},q=()=>{x.request&&n.delete(`/admin/prayer-requests/${x.request.id}`,{onSuccess:()=>{u({opened:!1,request:null})}})},B=r=>{m({opened:!0,request:r}),f(r.answer_notes||"")},D=()=>{p.request&&n.put(`/admin/prayer-requests/${p.request.id}`,{status:"answered",answer_notes:k},{onSuccess:()=>{m({opened:!1,request:null}),f("")}})},R=r=>({health:"red",family:"blue",spiritual:"violet",work:"orange",travel:"green",other:"gray"})[r]||"gray",F=r=>({active:"blue",answered:"green",archived:"gray"})[r]||"gray",L=r=>({public:"green",private:"red",anonymous:"yellow"})[r]||"gray",M=r=>new Date(r).toLocaleDateString(),$=r=>{switch(r){case"active":return e.jsx(y,{size:14});case"answered":return e.jsx(v,{size:14});case"archived":return e.jsx(ee,{size:14});default:return e.jsx(y,{size:14})}};return e.jsxs(H,{children:[e.jsx(N,{title:`${s("prayerRequests")} - Admin`}),e.jsxs(I,{size:"xl",py:"xl",children:[e.jsxs(l,{justify:"space-between",align:"center",mb:"xl",children:[e.jsxs(c,{children:[e.jsx(E,{order:1,size:"h1",c:"white",mb:"sm",children:s("prayerRequests")}),e.jsx(i,{size:"lg",c:"rgba(255, 255, 255, 0.7)",children:s("managePrayerRequests")})]}),e.jsx(d,{leftSection:e.jsx(U,{size:16}),component:"a",href:"/prayer-requests/create",style:{backgroundColor:"#8B4513",border:"none"},children:s("addNewPrayerRequest")})]}),e.jsxs(l,{mb:"xl",children:[e.jsx(h,{p:"md",style:{backgroundColor:"rgba(26, 31, 46, 0.8)",border:"1px solid rgba(255, 215, 0, 0.2)",backdropFilter:"blur(10px)"},children:e.jsxs(l,{children:[e.jsx(j,{color:"blue",variant:"light",children:e.jsx(y,{size:20})}),e.jsxs(c,{children:[e.jsx(i,{size:"sm",c:"rgba(255, 255, 255, 0.7)",children:s("activeRequests")}),e.jsx(i,{size:"xl",fw:700,c:"white",children:o.data.filter(r=>r.status==="active").length})]})]})}),e.jsx(h,{p:"md",style:{backgroundColor:"rgba(26, 31, 46, 0.8)",border:"1px solid rgba(255, 215, 0, 0.2)",backdropFilter:"blur(10px)"},children:e.jsxs(l,{children:[e.jsx(j,{color:"green",variant:"light",children:e.jsx(v,{size:20})}),e.jsxs(c,{children:[e.jsx(i,{size:"sm",c:"rgba(255, 255, 255, 0.7)",children:s("answeredRequests")}),e.jsx(i,{size:"xl",fw:700,c:"white",children:o.data.filter(r=>r.status==="answered").length})]})]})}),e.jsx(h,{p:"md",style:{backgroundColor:"rgba(26, 31, 46, 0.8)",border:"1px solid rgba(255, 215, 0, 0.2)",backdropFilter:"blur(10px)"},children:e.jsxs(l,{children:[e.jsx(j,{color:"red",variant:"light",children:e.jsx(T,{size:20})}),e.jsxs(c,{children:[e.jsx(i,{size:"sm",c:"rgba(255, 255, 255, 0.7)",children:s("urgentRequests")}),e.jsx(i,{size:"xl",fw:700,c:"white",children:o.data.filter(r=>r.is_urgent).length})]})]})})]}),e.jsx(h,{p:"md",mb:"xl",style:{backgroundColor:"rgba(26, 31, 46, 0.8)",border:"1px solid rgba(255, 215, 0, 0.2)",backdropFilter:"blur(10px)"},children:e.jsxs(l,{children:[e.jsx(S,{placeholder:s("filterByStatus"),value:C.status||"",onChange:r=>{const a=new URLSearchParams(window.location.search);r?a.set("status",r):a.delete("status"),n.get(`/admin/prayer-requests?${a.toString()}`)},data:[{value:"",label:s("allStatuses")},{value:"active",label:s("activeStatus")},{value:"answered",label:s("answeredStatus")},{value:"archived",label:s("archivedStatus")}],leftSection:e.jsx(G,{size:16}),styles:{input:{backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white"}}}),e.jsx(S,{placeholder:s("filterByVisibility"),value:C.visibility||"",onChange:r=>{const a=new URLSearchParams(window.location.search);r?a.set("visibility",r):a.delete("visibility"),n.get(`/admin/prayer-requests?${a.toString()}`)},data:[{value:"",label:s("allVisibilities")},{value:"public",label:s("publicVisibility")},{value:"private",label:s("privateVisibility")},{value:"anonymous",label:s("anonymousVisibility")}],styles:{input:{backgroundColor:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white"}}})]})}),e.jsxs(h,{p:"md",style:{backgroundColor:"rgba(26, 31, 46, 0.8)",border:"1px solid rgba(255, 215, 0, 0.2)",backdropFilter:"blur(10px)"},children:[o.data.length>0?e.jsxs(t,{striped:!0,highlightOnHover:!0,styles:{thead:{backgroundColor:"rgba(26, 31, 46, 0.9)"},tbody:{backgroundColor:"rgba(26, 31, 46, 0.8)"},tr:{backgroundColor:"rgba(26, 31, 46, 0.8)","&:hover":{backgroundColor:"rgba(26, 31, 46, 0.9) !important"},"&:nthOfType(even)":{backgroundColor:"rgba(26, 31, 46, 0.7) !important","&:hover":{backgroundColor:"rgba(26, 31, 46, 0.9) !important"}}},td:{backgroundColor:"transparent !important",borderColor:"rgba(255, 215, 0, 0.1)",color:"white"},th:{backgroundColor:"rgba(26, 31, 46, 0.9) !important",borderColor:"rgba(255, 215, 0, 0.2)",color:"white",fontWeight:600}},children:[e.jsx(t.Thead,{children:e.jsxs(t.Tr,{children:[e.jsx(t.Th,{c:"white",children:s("title")}),e.jsx(t.Th,{c:"white",children:s("requester")}),e.jsx(t.Th,{c:"white",children:s("category")}),e.jsx(t.Th,{c:"white",children:s("status")}),e.jsx(t.Th,{c:"white",children:s("visibility")}),e.jsx(t.Th,{c:"white",children:s("prayers")}),e.jsx(t.Th,{c:"white",children:s("created")}),e.jsx(t.Th,{c:"white",children:s("actions")})]})}),e.jsx(t.Tbody,{children:o.data.map(r=>e.jsxs(t.Tr,{children:[e.jsx(t.Td,{children:e.jsxs(c,{children:[e.jsx(i,{fw:500,c:"white",size:"sm",children:r.title}),r.is_urgent&&e.jsx(b,{color:"red",size:"xs",leftSection:e.jsx(T,{size:10}),children:s("urgent")})]})}),e.jsx(t.Td,{children:e.jsx(i,{c:"rgba(255, 255, 255, 0.8)",size:"sm",children:r.requester_name||s("anonymous")})}),e.jsx(t.Td,{children:e.jsx(b,{color:R(r.category),variant:"light",children:r.category})}),e.jsx(t.Td,{children:e.jsx(b,{color:F(r.status),variant:"light",leftSection:$(r.status),children:r.status})}),e.jsx(t.Td,{children:e.jsx(b,{color:L(r.visibility),variant:"light",children:r.visibility})}),e.jsx(t.Td,{children:e.jsxs(l,{gap:"xs",children:[e.jsx(j,{size:"sm",color:"blue",variant:"light",children:e.jsx(A,{size:12})}),e.jsx(i,{c:"white",size:"sm",children:r.prayer_count})]})}),e.jsx(t.Td,{children:e.jsx(i,{c:"rgba(255, 255, 255, 0.8)",size:"sm",children:M(r.created_at)})}),e.jsx(t.Td,{children:e.jsxs(l,{gap:"xs",children:[e.jsx(g,{variant:"light",color:"blue",size:"sm",component:"a",href:`/prayer-requests/${r.id}`,title:s("viewDetails"),children:e.jsx(O,{size:14})}),e.jsx(g,{variant:"light",color:"orange",size:"sm",component:"a",href:`/admin/prayer-requests/${r.id}/edit`,title:s("edit"),children:e.jsx(W,{size:14})}),r.status==="active"&&e.jsx(g,{variant:"light",color:"green",size:"sm",onClick:()=>B(r),title:s("markAsAnswered"),children:e.jsx(v,{size:14})}),e.jsx(g,{variant:"light",color:"red",size:"sm",onClick:()=>_(r),title:s("delete"),children:e.jsx(J,{size:14})})]})})]},r.id))})]}):e.jsx(K,{icon:e.jsx(A,{size:16}),title:s("noPrayerRequestsFound"),color:"blue",variant:"light",children:e.jsx(i,{c:"rgba(255, 255, 255, 0.8)",children:s("noPrayerRequestsFoundDescription")})}),o.last_page>1&&e.jsx(l,{justify:"center",mt:"xl",children:e.jsx(Q,{total:o.last_page,value:o.current_page,onChange:r=>{const a=new URLSearchParams(window.location.search);a.set("page",r),n.get(`/admin/prayer-requests?${a.toString()}`)},color:"#8B4513"})})]}),e.jsx(P,{opened:x.opened,onClose:()=>u({opened:!1,request:null}),title:s("confirmDelete"),centered:!0,children:e.jsxs(z,{gap:"md",children:[e.jsx(i,{children:s("deletePrayerRequestConfirmation")}),e.jsxs(i,{fw:500,c:"red",children:['"',x.request?.title,'"']}),e.jsxs(l,{justify:"flex-end",children:[e.jsx(d,{variant:"light",onClick:()=>u({opened:!1,request:null}),children:s("cancel")}),e.jsx(d,{color:"red",onClick:q,children:s("delete")})]})]})}),e.jsx(P,{opened:p.opened,onClose:()=>m({opened:!1,request:null}),title:s("markAsAnswered"),centered:!0,size:"md",children:e.jsxs(z,{gap:"md",children:[e.jsx(i,{children:s("answerPrayerRequestDescription")}),e.jsxs(i,{fw:500,children:['"',p.request?.title,'"']}),e.jsx(X,{label:s("answerNotes"),placeholder:s("answerNotesPlaceholder"),value:k,onChange:r=>f(r.target.value),minRows:3}),e.jsxs(l,{justify:"flex-end",children:[e.jsx(d,{variant:"light",onClick:()=>m({opened:!1,request:null}),children:s("cancel")}),e.jsx(d,{color:"green",onClick:D,children:s("markAsAnswered")})]})]})})]})]})}export{Me as default};
