import{c as F,j as r,L as b}from"./app-BByfSfuC.js";import{L as j}from"./Layout-Dwbte8SX.js";import{L as C,D}from"./LanguageTabs-BlBmTCPC.js";import{C as v,P as g,G as l,b as d,T as k,a as m}from"./Title-ZeNDVGLn.js";import{A as w}from"./arrow-left-XHsFXUax.js";import{D as c}from"./DateInput-CKykDCiQ.js";import{T as u}from"./TimeInput-CS1rz2k_.js";import{T as p}from"./TextInput-11NqqKSk.js";import{S as f}from"./Select-D5leAiB_.js";import{N as s}from"./NumberInput-D5OUNqUh.js";import{S as n}from"./Switch-C2UCXtQ6.js";import{T as S}from"./Textarea-CGwpddZg.js";import{S as T}from"./save-aDBxrrwx.js";/* empty css            */import"./use-window-event-DxuP8sAt.js";import"./get-sorted-breakpoints-DFaYOGKe.js";import"./Burger-C6E3aGFj.js";import"./Divider-DfaJXAuO.js";import"./createLucideIcon-BT_P5zGE.js";import"./users-CDhnMT-6.js";import"./book-open-C5UyFhRw.js";import"./bell-pBXD-JBQ.js";import"./heart-C_qBthq1.js";import"./CloseButton-DeOFDxF2.js";import"./check-DWn_i8sN.js";import"./x-BywK-egi.js";import"./circle-alert-DsNFdFtg.js";import"./pick-calendar-levels-props-BQKo6yyP.js";import"./clamp-DTmYCdls.js";import"./InputBase-3o6TqfvO.js";import"./Modal-CwxUH1_I.js";import"./ScrollArea-BFZt3DNW.js";import"./SimpleGrid-CWFPk7dF.js";import"./get-base-value-JqT_q0U7.js";import"./CheckIcon-B0KHLKib.js";import"./Tabs-D40K0kRs.js";import"./get-auto-contrast-value-Da6zqqWm.js";import"./Badge-Aqzdn07U.js";import"./InputsGroupFieldset-CujXM6hv.js";const pe=({event:t})=>{const h={fr:{title:t.translations?.find(e=>e.locale==="fr")?.title||"",description:t.translations?.find(e=>e.locale==="fr")?.description||"",location:t.translations?.find(e=>e.locale==="fr")?.location||""},sr:{title:t.translations?.find(e=>e.locale==="sr")?.title||"",description:t.translations?.find(e=>e.locale==="sr")?.description||"",location:t.translations?.find(e=>e.locale==="sr")?.location||""}},{data:o,setData:a,put:_,processing:x,errors:i}=F({title:t.title||"",description:t.description||"",event_date:t.event_date?new Date(t.event_date):null,start_time:t.start_time||"",end_time:t.end_time||"",location:t.location||"",event_type:t.event_type||"other",is_recurring:t.is_recurring??!1,recurrence_pattern:t.recurrence_pattern||"",status:t.status||"draft",published_at:t.published_at?new Date(t.published_at):null,is_featured:t.is_featured??!1,max_attendees:t.max_attendees||null,registration_required:t.registration_required??!1,registration_enabled:t.registration_enabled??!1,registration_capacity:t.registration_capacity||null,allow_waitlist:t.allow_waitlist??!1,registration_deadline:t.registration_deadline?new Date(t.registration_deadline):null,registration_opens_at:t.registration_opens_at?new Date(t.registration_opens_at):null,registration_instructions:t.registration_instructions||"",registration_fee:t.registration_fee||null,fee_required:t.fee_required??!1,send_reminders:t.send_reminders??!1,reminder_days_before:t.reminder_days_before||1,translations:h}),y=e=>{e.preventDefault(),_(`/events/${t.id}`)};return r.jsx(j,{children:r.jsx(v,{size:"md",py:"xl",children:r.jsxs(g,{p:"xl",withBorder:!0,style:{background:"linear-gradient(135deg, rgba(26, 31, 46, 0.8) 0%, rgba(15, 20, 25, 0.9) 100%)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 215, 0, 0.2)",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)"},children:[r.jsx(l,{mb:"xl",children:r.jsx(b,{href:"/events",children:r.jsx(d,{variant:"subtle",leftSection:r.jsx(w,{size:18}),c:"#FFD700",children:"Back to Events"})})}),r.jsx(k,{order:2,c:"#FFD700",mb:"md",style:{fontFamily:"serif"},children:"Edit Event"}),r.jsx(m,{c:"#b8b8b8",mb:"xl",children:"Update event information"}),r.jsxs("form",{onSubmit:y,children:[r.jsx(C,{data:o,setData:a,errors:i,fields:["title","description","location"],fieldLabels:{title:"Event Title",description:"Description",location:"Location"}}),r.jsxs(l,{grow:!0,mb:"md",children:[r.jsx(c,{label:"Event Date",placeholder:"Select date",value:o.event_date,onChange:e=>a("event_date",e),error:i.event_date,required:!0,valueFormat:"YYYY-MM-DD",styles:{label:{color:"#FFD700",fontWeight:500,marginBottom:8},input:{backgroundColor:"rgba(26, 31, 46, 0.6)",border:"1px solid rgba(255, 215, 0, 0.2)",color:"#fff"}}}),r.jsx(u,{label:"Start Time",value:o.start_time,onChange:e=>a("start_time",e.target.value),error:i.start_time,styles:{label:{color:"#FFD700",fontWeight:500,marginBottom:8},input:{backgroundColor:"rgba(26, 31, 46, 0.6)",border:"1px solid rgba(255, 215, 0, 0.2)",color:"#fff"}}}),r.jsx(u,{label:"End Time",value:o.end_time,onChange:e=>a("end_time",e.target.value),error:i.end_time,styles:{label:{color:"#FFD700",fontWeight:500,marginBottom:8},input:{backgroundColor:"rgba(26, 31, 46, 0.6)",border:"1px solid rgba(255, 215, 0, 0.2)",color:"#fff"}}})]}),r.jsx(p,{label:"Location",placeholder:"e.g., Main Church, Fellowship Hall",value:o.location,onChange:e=>a("location",e.target.value),error:i.location,mb:"md",styles:{label:{color:"#FFD700",fontWeight:500,marginBottom:8},input:{backgroundColor:"rgba(26, 31, 46, 0.6)",border:"1px solid rgba(255, 215, 0, 0.2)",color:"#fff"}}}),r.jsxs(l,{grow:!0,mb:"md",children:[r.jsx(f,{label:"Event Type",placeholder:"Select type",value:o.event_type,onChange:e=>a("event_type",e),error:i.event_type,required:!0,data:[{value:"liturgy",label:"Liturgy"},{value:"feast",label:"Feast Day"},{value:"social",label:"Social Event"},{value:"study",label:"Bible Study"},{value:"service",label:"Service"},{value:"other",label:"Other"}],styles:{label:{color:"#FFD700",fontWeight:500,marginBottom:8},input:{backgroundColor:"rgba(26, 31, 46, 0.6)",border:"1px solid rgba(255, 215, 0, 0.2)",color:"#fff"}}}),r.jsx(f,{label:"Status",placeholder:"Select status",value:o.status,onChange:e=>a("status",e),error:i.status,required:!0,data:[{value:"draft",label:"Draft"},{value:"published",label:"Published"},{value:"cancelled",label:"Cancelled"}],styles:{label:{color:"#FFD700",fontWeight:500,marginBottom:8},input:{backgroundColor:"rgba(26, 31, 46, 0.6)",border:"1px solid rgba(255, 215, 0, 0.2)",color:"#fff"}}})]}),r.jsx(s,{label:"Maximum Attendees (optional)",placeholder:"Leave empty for unlimited",value:o.max_attendees,onChange:e=>a("max_attendees",e),error:i.max_attendees,min:1,mb:"md",styles:{label:{color:"#FFD700",fontWeight:500,marginBottom:8},input:{backgroundColor:"rgba(26, 31, 46, 0.6)",border:"1px solid rgba(255, 215, 0, 0.2)",color:"#fff"}}}),r.jsx(D,{label:"Publish Date & Time (optional)",description:"Schedule when this event becomes visible to the public",placeholder:"Select date and time",value:o.published_at,onChange:e=>a("published_at",e),error:i.published_at,mb:"md",clearable:!0,styles:{label:{color:"#FFD700",fontWeight:500,marginBottom:8},description:{color:"#b8b8b8",fontSize:"0.75rem",marginTop:4},input:{backgroundColor:"rgba(26, 31, 46, 0.6)",border:"1px solid rgba(255, 215, 0, 0.2)",color:"#fff"}}}),r.jsxs(l,{mb:"xl",children:[r.jsx(n,{label:"Featured Event",checked:o.is_featured,onChange:e=>a("is_featured",e.currentTarget.checked),styles:{label:{color:"#b8b8b8"}}}),r.jsx(n,{label:"Recurring Event",checked:o.is_recurring,onChange:e=>a("is_recurring",e.currentTarget.checked),styles:{label:{color:"#b8b8b8"}}})]}),o.is_recurring&&r.jsx(p,{label:"Recurrence Pattern",placeholder:"e.g., Weekly on Sunday, Monthly first Friday",value:o.recurrence_pattern,onChange:e=>a("recurrence_pattern",e.target.value),error:i.recurrence_pattern,mb:"md",styles:{label:{color:"#FFD700",fontWeight:500,marginBottom:8},input:{backgroundColor:"rgba(26, 31, 46, 0.6)",border:"1px solid rgba(255, 215, 0, 0.2)",color:"#fff"}}}),r.jsxs(g,{p:"md",mb:"md",style:{backgroundColor:"rgba(26, 31, 46, 0.4)",border:"1px solid rgba(255, 215, 0, 0.2)",borderRadius:"8px"},children:[r.jsx(m,{size:"lg",fw:600,c:"#FFD700",mb:"md",children:"Registration Settings"}),r.jsxs(l,{mb:"md",children:[r.jsx(n,{label:"Registration Required",description:"Event requires registration to attend",checked:o.registration_required,onChange:e=>a("registration_required",e.currentTarget.checked),styles:{label:{color:"#b8b8b8"},description:{color:"#888"}}}),r.jsx(n,{label:"Registration Enabled",description:"Allow users to register for this event",checked:o.registration_enabled,onChange:e=>a("registration_enabled",e.currentTarget.checked),styles:{label:{color:"#b8b8b8"},description:{color:"#888"}}})]}),o.registration_required&&r.jsxs(r.Fragment,{children:[r.jsxs(l,{grow:!0,mb:"md",children:[r.jsx(s,{label:"Registration Capacity",placeholder:"Maximum number of registrations",value:o.registration_capacity,onChange:e=>a("registration_capacity",e),error:i.registration_capacity,min:1,styles:{label:{color:"#FFD700",fontWeight:500,marginBottom:8},input:{backgroundColor:"rgba(26, 31, 46, 0.6)",border:"1px solid rgba(255, 215, 0, 0.2)",color:"#fff"}}}),r.jsx(s,{label:"Registration Fee",placeholder:"Fee amount (optional)",value:o.registration_fee,onChange:e=>a("registration_fee",e),error:i.registration_fee,min:0,decimalScale:2,prefix:"$",styles:{label:{color:"#FFD700",fontWeight:500,marginBottom:8},input:{backgroundColor:"rgba(26, 31, 46, 0.6)",border:"1px solid rgba(255, 215, 0, 0.2)",color:"#fff"}}})]}),r.jsxs(l,{grow:!0,mb:"md",children:[r.jsx(c,{label:"Registration Deadline",placeholder:"When registration closes",value:o.registration_deadline,onChange:e=>a("registration_deadline",e),error:i.registration_deadline,clearable:!0,styles:{label:{color:"#FFD700",fontWeight:500,marginBottom:8},input:{backgroundColor:"rgba(26, 31, 46, 0.6)",border:"1px solid rgba(255, 215, 0, 0.2)",color:"#fff"}}}),r.jsx(c,{label:"Registration Opens",placeholder:"When registration becomes available",value:o.registration_opens_at,onChange:e=>a("registration_opens_at",e),error:i.registration_opens_at,clearable:!0,styles:{label:{color:"#FFD700",fontWeight:500,marginBottom:8},input:{backgroundColor:"rgba(26, 31, 46, 0.6)",border:"1px solid rgba(255, 215, 0, 0.2)",color:"#fff"}}})]}),r.jsx(S,{label:"Registration Instructions",placeholder:"Special instructions for registrants...",value:o.registration_instructions,onChange:e=>a("registration_instructions",e.target.value),error:i.registration_instructions,mb:"md",minRows:3,styles:{label:{color:"#FFD700",fontWeight:500,marginBottom:8},input:{backgroundColor:"rgba(26, 31, 46, 0.6)",border:"1px solid rgba(255, 215, 0, 0.2)",color:"#fff"}}}),r.jsxs(l,{mb:"md",children:[r.jsx(n,{label:"Allow Waitlist",description:"Create waitlist when event is full",checked:o.allow_waitlist,onChange:e=>a("allow_waitlist",e.currentTarget.checked),styles:{label:{color:"#b8b8b8"},description:{color:"#888"}}}),r.jsx(n,{label:"Send Reminders",description:"Send email reminders to registrants",checked:o.send_reminders,onChange:e=>a("send_reminders",e.currentTarget.checked),styles:{label:{color:"#b8b8b8"},description:{color:"#888"}}})]}),o.send_reminders&&r.jsx(s,{label:"Reminder Days Before Event",placeholder:"Days before event to send reminder",value:o.reminder_days_before,onChange:e=>a("reminder_days_before",e),error:i.reminder_days_before,min:1,max:30,styles:{label:{color:"#FFD700",fontWeight:500,marginBottom:8},input:{backgroundColor:"rgba(26, 31, 46, 0.6)",border:"1px solid rgba(255, 215, 0, 0.2)",color:"#fff"}}})]})]}),r.jsxs(l,{justify:"flex-end",children:[r.jsx(d,{component:b,href:"/events",variant:"subtle",c:"#b8b8b8",children:"Cancel"}),r.jsx(d,{type:"submit",loading:x,leftSection:r.jsx(T,{size:18}),style:{background:"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)",color:"#1a1f2e",fontWeight:600},children:"Update Event"})]})]})]})})})};export{pe as default};
