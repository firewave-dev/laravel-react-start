import{u as J,r as g,j as e,H as K,L as w,a as c}from"./app-BByfSfuC.js";import{L as Q}from"./Layout-Dwbte8SX.js";import{C as V,S as _,G as n,T as X,a as l,A as y,M as a,P as Y,b as B}from"./Title-ZeNDVGLn.js";import{G as t}from"./Grid-CjStMlwy.js";import{C as d}from"./Card-D-EKUExk.js";import{T as j}from"./ThemeIcon-BiHS01O6.js";import{U as Z}from"./users-CDhnMT-6.js";import{C as D}from"./check-DWn_i8sN.js";import{C as R}from"./clock-NtvrZsXo.js";import{C as v}from"./calendar-DcJcnZgA.js";import{T as $}from"./TextInput-11NqqKSk.js";import{S as ee}from"./search-phtwuYDS.js";import{S as T}from"./Select-D5leAiB_.js";import{F as re}from"./filter-CNsp3DuP.js";import{T as oe}from"./Table-Bms2NUSF.js";import{E as le}from"./eye-BOqE52_8.js";import{S as te}from"./square-pen-yEjnqL2U.js";import{c as se}from"./createLucideIcon-BT_P5zGE.js";import{T as ie}from"./trash-2-CSkN2v0M.js";import{A as ne}from"./Alert-D9htil08.js";import{C as ae}from"./circle-alert-DsNFdFtg.js";import{P as ce}from"./Pagination-BdwDV3b_.js";import{M as de}from"./Modal-CwxUH1_I.js";import{B as I}from"./Badge-Aqzdn07U.js";/* empty css            */import"./use-window-event-DxuP8sAt.js";import"./get-sorted-breakpoints-DFaYOGKe.js";import"./Burger-C6E3aGFj.js";import"./Divider-DfaJXAuO.js";import"./book-open-C5UyFhRw.js";import"./bell-pBXD-JBQ.js";import"./heart-C_qBthq1.js";import"./CloseButton-DeOFDxF2.js";import"./x-BywK-egi.js";import"./get-base-value-JqT_q0U7.js";import"./InputBase-3o6TqfvO.js";import"./CheckIcon-B0KHLKib.js";import"./ScrollArea-BFZt3DNW.js";import"./get-auto-contrast-value-Da6zqqWm.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],xe=se("Ellipsis",he);function Ze({registrations:h,events:E,stats:p,filters:C={},currentLocale:k="en"}){const{t:o}=J(),[m,M]=g.useState(C.search||""),[u,A]=g.useState(C.status||""),[b,P]=g.useState(C.event_id||""),[L,F]=g.useState(!1),[x,z]=g.useState(null),q=r=>{M(r),c.get(route("admin.event-registrations.index"),{search:r,status:u,event_id:b},{preserveState:!0,replace:!0})},G=r=>{A(r),c.get(route("admin.event-registrations.index"),{search:m,status:r,event_id:b},{preserveState:!0,replace:!0})},N=r=>{P(r),c.get(route("admin.event-registrations.index"),{search:m,status:u,event_id:r},{preserveState:!0,replace:!0})},O=r=>{z(r),F(!0)},H=()=>{x&&(c.delete(route("admin.event-registrations.destroy",x.id)),F(!1),z(null))},f=(r,s)=>{const i={confirm:route("admin.event-registrations.confirm",r.id),cancel:route("admin.event-registrations.cancel",r.id),waitlist:route("admin.event-registrations.waitlist",r.id),"check-in":route("admin.event-registrations.check-in",r.id)};i[s]&&c.post(i[s])},U=r=>{const s={pending:{color:"yellow",label:o("pending")},confirmed:{color:"green",label:o("confirmed")},waitlisted:{color:"orange",label:o("waitlisted")},cancelled:{color:"red",label:o("cancelled")},checked_in:{color:"blue",label:o("checkedIn")}},i=s[r]||s.pending;return e.jsx(I,{color:i.color,size:"md",children:i.label})},W=r=>{const s={pending:{color:"yellow",label:o("paymentPending")},completed:{color:"green",label:o("paymentCompleted")},failed:{color:"red",label:o("paymentFailed")},not_required:{color:"gray",label:o("noPaymentRequired")}},i=s[r]||s.not_required;return e.jsx(I,{color:i.color,size:"sm",children:i.label})},S=r=>new Date(r).toLocaleDateString(k==="en"?"en-US":k==="fr"?"fr-FR":"sr-RS");return e.jsxs(Q,{children:[e.jsx(K,{title:o("manageRegistrations")}),e.jsxs(V,{size:"xl",py:"xl",children:[e.jsxs(_,{spacing:"xl",children:[e.jsx(n,{position:"apart",children:e.jsxs("div",{children:[e.jsx(X,{order:1,style:{color:"#FFFFFF"},children:o("manageRegistrations")}),e.jsx(l,{style:{color:"#CCCCCC"},children:o("manageRegistrationsDescription")})]})}),e.jsxs(t,{children:[e.jsx(t.Col,{span:3,children:e.jsx(d,{withBorder:!0,p:"lg",style:{backgroundColor:"rgba(26, 31, 46, 0.8)",border:"1px solid rgba(255, 215, 0, 0.2)",backdropFilter:"blur(10px)"},children:e.jsxs(n,{children:[e.jsx(j,{size:"xl",variant:"light",color:"blue",children:e.jsx(Z,{size:24})}),e.jsxs("div",{children:[e.jsx(l,{size:"sm",style:{color:"#CCCCCC"},children:o("totalRegistrations")}),e.jsx(l,{size:"xl",fw:700,style:{color:"#FFFFFF"},children:p.total})]})]})})}),e.jsx(t.Col,{span:3,children:e.jsx(d,{withBorder:!0,p:"lg",style:{backgroundColor:"rgba(26, 31, 46, 0.8)",border:"1px solid rgba(255, 215, 0, 0.2)",backdropFilter:"blur(10px)"},children:e.jsxs(n,{children:[e.jsx(j,{size:"xl",variant:"light",color:"green",children:e.jsx(D,{size:24})}),e.jsxs("div",{children:[e.jsx(l,{size:"sm",style:{color:"#CCCCCC"},children:o("confirmedRegistrations")}),e.jsx(l,{size:"xl",fw:700,style:{color:"#FFFFFF"},children:p.confirmed})]})]})})}),e.jsx(t.Col,{span:3,children:e.jsx(d,{withBorder:!0,p:"lg",style:{backgroundColor:"rgba(26, 31, 46, 0.8)",border:"1px solid rgba(255, 215, 0, 0.2)",backdropFilter:"blur(10px)"},children:e.jsxs(n,{children:[e.jsx(j,{size:"xl",variant:"light",color:"yellow",children:e.jsx(R,{size:24})}),e.jsxs("div",{children:[e.jsx(l,{size:"sm",style:{color:"#CCCCCC"},children:o("pendingRegistrations")}),e.jsx(l,{size:"xl",fw:700,style:{color:"#FFFFFF"},children:p.pending})]})]})})}),e.jsx(t.Col,{span:3,children:e.jsx(d,{withBorder:!0,p:"lg",style:{backgroundColor:"rgba(26, 31, 46, 0.8)",border:"1px solid rgba(255, 215, 0, 0.2)",backdropFilter:"blur(10px)"},children:e.jsxs(n,{children:[e.jsx(j,{size:"xl",variant:"light",color:"blue",children:e.jsx(v,{size:24})}),e.jsxs("div",{children:[e.jsx(l,{size:"sm",style:{color:"#CCCCCC"},children:o("checkedInCount")}),e.jsx(l,{size:"xl",fw:700,style:{color:"#FFFFFF"},children:p.checked_in})]})]})})})]}),e.jsx(d,{withBorder:!0,p:"lg",style:{backgroundColor:"rgba(26, 31, 46, 0.8)",border:"1px solid rgba(255, 215, 0, 0.2)",backdropFilter:"blur(10px)"},children:e.jsxs(t,{children:[e.jsx(t.Col,{span:4,children:e.jsx($,{placeholder:o("searchRegistrations"),leftSection:e.jsx(ee,{size:16}),value:m,onChange:r=>q(r.target.value),styles:{input:{backgroundColor:"rgba(26, 31, 46, 0.8)",border:"1px solid rgba(255, 215, 0, 0.3)",color:"#FFFFFF","&:focus":{borderColor:"rgba(255, 215, 0, 0.6)",backgroundColor:"rgba(26, 31, 46, 0.9)"}}}})}),e.jsx(t.Col,{span:4,children:e.jsx(T,{placeholder:o("filterByStatus"),leftSection:e.jsx(re,{size:16}),value:u,onChange:G,data:[{value:"",label:o("allStatuses")},{value:"pending",label:o("pending")},{value:"confirmed",label:o("confirmed")},{value:"waitlisted",label:o("waitlisted")},{value:"cancelled",label:o("cancelled")},{value:"checked_in",label:o("checkedIn")}],styles:{input:{backgroundColor:"rgba(26, 31, 46, 0.8)",border:"1px solid rgba(255, 215, 0, 0.3)",color:"#FFFFFF","&:focus":{borderColor:"rgba(255, 215, 0, 0.6)",backgroundColor:"rgba(26, 31, 46, 0.9)"}}}})}),e.jsx(t.Col,{span:4,children:e.jsx(T,{placeholder:o("filterByEvent"),leftSection:e.jsx(v,{size:16}),value:b,onChange:N,data:[{value:"",label:o("allEvents")},...E.map(r=>({value:r.id.toString(),label:r.title}))],styles:{input:{backgroundColor:"rgba(26, 31, 46, 0.8)",border:"1px solid rgba(255, 215, 0, 0.3)",color:"#FFFFFF","&:focus":{borderColor:"rgba(255, 215, 0, 0.6)",backgroundColor:"rgba(26, 31, 46, 0.9)"}}}})})]})}),e.jsxs(d,{withBorder:!0,p:"lg",style:{backgroundColor:"rgba(26, 31, 46, 0.8)",border:"1px solid rgba(255, 215, 0, 0.2)",backdropFilter:"blur(10px)"},children:[e.jsxs(oe,{highlightOnHover:!0,styles:{root:{color:"#FFFFFF"},thead:{tr:{backgroundColor:"rgba(255, 215, 0, 0.15)","& th":{color:"#FFD700",borderBottom:"2px solid rgba(255, 215, 0, 0.5)",backgroundColor:"rgba(255, 215, 0, 0.1)",fontWeight:"bold",fontSize:"14px",padding:"16px 12px"}}},tbody:{tr:{backgroundColor:"transparent",borderBottom:"1px solid rgba(255, 215, 0, 0.1)","&:hover":{backgroundColor:"rgba(255, 215, 0, 0.05)"},"&:nthOfType(even)":{backgroundColor:"rgba(255, 215, 0, 0.02)"},"& td":{color:"#FFFFFF",borderBottom:"1px solid rgba(255, 215, 0, 0.1)",backgroundColor:"transparent"}}}},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:o("registrantName")}),e.jsx("th",{children:o("event")}),e.jsx("th",{children:o("registrationStatus")}),e.jsx("th",{children:o("totalAttendees")}),e.jsx("th",{children:o("registrationDate")}),e.jsx("th",{children:o("paymentStatus")}),e.jsx("th",{children:o("actions")})]})}),e.jsx("tbody",{children:h.data.map(r=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{children:[e.jsx(l,{fw:500,style:{color:"#FFFFFF"},children:r.registrant_name}),e.jsx(l,{size:"sm",style:{color:"#CCCCCC"},children:r.registrant_email})]})}),e.jsxs("td",{children:[e.jsx(l,{style:{color:"#FFFFFF"},children:r.event?.title||"N/A"}),e.jsx(l,{size:"sm",style:{color:"#CCCCCC"},children:r.event?.event_date?S(r.event.event_date):"N/A"})]}),e.jsx("td",{children:U(r.status)}),e.jsx("td",{children:e.jsx(l,{style:{color:"#FFFFFF"},children:r.total_attendees})}),e.jsx("td",{children:e.jsx(l,{style:{color:"#FFFFFF"},children:S(r.registration_date)})}),e.jsx("td",{children:W(r.payment_status)}),e.jsx("td",{children:e.jsxs(n,{spacing:"xs",children:[e.jsx(w,{href:route("admin.event-registrations.show",r.id),children:e.jsx(y,{color:"blue",variant:"light",size:"sm",children:e.jsx(le,{size:14})})}),e.jsx(w,{href:route("admin.event-registrations.edit",r.id),children:e.jsx(y,{color:"yellow",variant:"light",size:"sm",children:e.jsx(te,{size:14})})}),e.jsxs(a,{shadow:"md",width:200,children:[e.jsx(a.Target,{children:e.jsx(y,{color:"gray",variant:"light",size:"sm",children:e.jsx(xe,{size:14})})}),e.jsxs(a.Dropdown,{style:{backgroundColor:"rgba(26, 31, 46, 0.95)"},children:[r.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(a.Item,{icon:e.jsx(D,{size:14}),onClick:()=>f(r,"confirm"),children:o("confirm")}),e.jsx(a.Item,{icon:e.jsx(R,{size:14}),onClick:()=>f(r,"waitlist"),children:o("moveToWaitlist")})]}),r.status==="confirmed"&&e.jsx(a.Item,{icon:e.jsx(v,{size:14}),onClick:()=>f(r,"check-in"),children:o("checkIn")}),e.jsx(a.Divider,{}),e.jsx(a.Item,{color:"red",icon:e.jsx(ie,{size:14}),onClick:()=>O(r),children:o("delete")})]})]})]})})]},r.id))})]}),h.data.length===0&&e.jsx(ne,{icon:e.jsx(ae,{size:16}),title:o("noRegistrations"),color:"blue",style:{backgroundColor:"rgba(26, 31, 46, 0.8)"},children:o("noRegistrationsMessage")}),h.last_page>1&&e.jsx(n,{position:"center",mt:"xl",children:e.jsx(ce,{total:h.last_page,page:h.current_page,onChange:r=>c.get(route("admin.event-registrations.index"),{page:r,search:m,status:u,event_id:b}),styles:{control:{backgroundColor:"rgba(26, 31, 46, 0.8)",border:"1px solid rgba(255, 215, 0, 0.3)",color:"#FFFFFF","&:hover":{backgroundColor:"rgba(255, 215, 0, 0.1)",borderColor:"rgba(255, 215, 0, 0.6)"}}}})})]})]}),e.jsx(de,{opened:L,onClose:()=>F(!1),title:o("confirmDelete"),centered:!0,children:e.jsxs(_,{spacing:"md",children:[e.jsx(l,{style:{color:"#FFFFFF"},children:o("confirmDeleteRegistrationMessage")}),x&&e.jsxs(Y,{p:"md",style:{backgroundColor:"rgba(26, 31, 46, 0.8)"},children:[e.jsx(l,{fw:500,style:{color:"#FFFFFF"},children:x.registrant_name}),e.jsx(l,{size:"sm",style:{color:"#CCCCCC"},children:x.event?.title})]}),e.jsxs(n,{position:"right",children:[e.jsx(B,{variant:"outline",onClick:()=>F(!1),style:{borderColor:"#D2B48C",color:"#D2B48C","&:hover":{backgroundColor:"#F5F5DC"}},children:o("cancel")}),e.jsx(B,{color:"red",onClick:H,style:{backgroundColor:"#DC3545","&:hover":{backgroundColor:"#C82333"}},children:o("delete")})]})]})})]})]})}export{Ze as default};
